<!DOCTYPE html>
<html class="dark" lang="{{ site.lang | default: " en-US" }}">

<head>
  <script>
    // Always use dark mode
    document.documentElement.classList.add('dark');
  </script>

  <!-- google analytics -->
  {% if site.google-analytics %}
    {% include google-analytics.html %}
  {% endif %}

  <!-- Jekyll SEO plugin -->
  {% seo %}

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset="utf-8">
  <title>{{ site.title }}</title>
  <link rel="icon" href="{{ '/assets/img/279.png' | relative_url }}">

  <!-- TailwindCSS and Inter Font-->
  <!-- Always load compiled Tailwind CSS (dev and prod) -->
  <link rel="stylesheet" href="{{ '/assets/css/tailwind.css' | relative_url }}?v={{ site.time | date: '%s' }}">
  <link rel="stylesheet" href="https://rsms.me/inter/inter.css">

  <!-- fontawesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css"
    integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm" crossorigin="anonymous">
  
    <!-- highlight.js -->
   <link rel="stylesheet"
    href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/github-dark-dimmed.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
  
  <!-- MathJax -->
  <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
    };
  </script>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <style>
    #background-media-root {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      overflow: hidden;
      pointer-events: none;
      background-color: #000000;
    }
    #background-media-root .background-media { 
      position: relative; 
      width: 100%; 
      height: 100%; 
    }
    #background-media-root .background-gif,
    #background-media-root .background-video {
      position: absolute;
      top: 50%;
      left: 50%;
      min-width: 100%;
      min-height: 100%;
      width: auto;
      height: auto;
      transform: translate(-50%, -50%);
      object-fit: cover;
    }
    #background-media-root .background-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.6);
      z-index: 1;
    }
  </style>
 </head>

<body class="font-sans bg-base-100 text-base-content antialiased" data-theme="black">
  <div id="background-media-root">
    <div class="background-media">
      <img src="{{ '/assets/back-gif.gif' | relative_url }}" alt="background gif" class="background-gif" draggable="false" style="opacity: 0;">
      <video class="background-video" src="{{ '/assets/back-vid.mp4' | relative_url }}" autoplay loop muted playsinline preload="auto" style="opacity: 0.18; transition: opacity 1s;" onended="this.currentTime=0; this.play();"></video>
      <div class="background-overlay"></div>
    </div>
  </div>
  <div class="flex flex-col">
    <main class="flex-grow container mx-auto px-4 sm:px-6 lg:px-8 pt-12 pb-12 relative" style="z-index: 1;">
      {{ content }}
    </main>
  </div>
</body>

<script>
  /* Funtion for getting the current year in the footer */
  (function () {
    if (document.getElementById("get-current-year")) {
      document.getElementById(
        "get-current-year"
      ).innerHTML = new Date().getFullYear();
    }
  })();

  /* Function for opning navbar on mobile */
  function toggleNavbar(collapseID) {
      document.getElementById(collapseID).classList.toggle("hidden");
      document.getElementById(collapseID).classList.toggle("block");
    }
    /* Function for dropdowns */
    function openDropdown(event, dropdownID) {
      let element = event.target;
      while (element.nodeName !== "A") {
        element = element.parentNode;
      }
      document.getElementById(dropdownID).classList.toggle("hidden");
      document.getElementById(dropdownID).classList.toggle("block");
    }

  /* Function for show/hide table of content */
  function toggleTOC() {
    var toc = document.getElementById('toc');
        if (toc.style.display == "block"){ // if toc hidden, display it 
            toc.style.display = "none";
        }
        else{ // if toc displayed, hidden it
            toc.style.display = "block";
        }
    }
  document.addEventListener('DOMContentLoaded', function () {
    // Ensure background video loops forever
    var backgroundVideo = document.querySelector('.background-video');
    if (backgroundVideo) {
      backgroundVideo.addEventListener('ended', function() {
        this.currentTime = 0;
        this.play();
      });
      
      // Ensure video is playing
      backgroundVideo.addEventListener('pause', function() {
        this.play();
      });
      
      // Start playing if not already
      if (backgroundVideo.paused) {
        backgroundVideo.play();
      }
    }
  });
</script>

</html>